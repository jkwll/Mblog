<%@ page contentType="text/html; charset=utf-8" language="java"%>
<%@ taglib prefix="s" uri="/struts-tags"%>
<html>
<head>
<%@ include file="/public/include.jsp"%>
<title>15156</title>
</head>
<body>
	<%@ include file="/public/header.jsp"%>
	<article class="aboutcon">
		<%-- 头的下方--%>
		<%@ include file="/public/header2.jsp"%>
		<div class="index_about">
			<%-- 文章标题 --%>
			<%@ include file="/public/title.jsp"%>
			<div class="book left">
				<%-- 正文 --%>
				<p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);">首先官网下载&nbsp;<br style="box-sizing: border-box;"/><div align="center"><img src="https://img-blog.csdn.net/20180417113409270?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Q1OTcxODA3MTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title="" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; cursor: zoom-in; margin: 24px 0px;"/></div>&nbsp;<br style="box-sizing: border-box;"/>之后解压，命令：tar -xzvf ng…………&nbsp;<br style="box-sizing: border-box;"/>之后进入解压后的文件夹&nbsp;<br style="box-sizing: border-box;"/><div align="center"><img src="https://img-blog.csdn.net/20180417113439853?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Q1OTcxODA3MTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title="" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; cursor: zoom-in; margin: 24px 0px;"/></div>&nbsp;<br style="box-sizing: border-box;"/>进行编译安装&nbsp;<br style="box-sizing: border-box;"/>./configure&nbsp;<br style="box-sizing: border-box;"/>make &amp;&amp; make install&nbsp;<br style="box-sizing: border-box;"/>安装完成&nbsp;<br style="box-sizing: border-box;"/>到/etc/nginx/修改配置文件nginx.conf（不是usr/local/nginx的，也不是解压出来的nginx-1.13.6文件夹中的，哎说多了都是泪）&nbsp;<br style="box-sizing: border-box;"/>修改server中的内容&nbsp;<br style="box-sizing: border-box;"/><div align="center"><img src="https://img-blog.csdn.net/20180417113505146?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Q1OTcxODA3MTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title="" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; cursor: zoom-in; margin: 24px 0px;"/></div>&nbsp;<br style="box-sizing: border-box;"/>将动态请求直接转发给tomcat，静态资源就直接去tomcat中的工程获取&nbsp;<br style="box-sizing: border-box;"/>启动nginx，直接输入nginx&nbsp;<br style="box-sizing: border-box;"/>修改配置文件后可以nginx -s reload重新加载配置文件，但我试的话没用，我直接用nginx -s stop 立即关闭，然后在打开nginx。&nbsp;<br style="box-sizing: border-box;"/>nginx -s quit 优雅的退出nginx，应该就是处理完在退出的意思&nbsp;<br style="box-sizing: border-box;"/>日志文件到nginx.conf中配置路径&nbsp;<br style="box-sizing: border-box;"/><div align="center"><img src="https://img-blog.csdn.net/20180417113547187?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Q1OTcxODA3MTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title="" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; cursor: zoom-in; margin: 24px 0px;"/></div>&nbsp;<br style="box-sizing: border-box;"/>这是错误日志&nbsp;<br style="box-sizing: border-box;"/><div align="center"><img src="https://img-blog.csdn.net/20180417113613682?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Q1OTcxODA3MTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title="" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; cursor: zoom-in; margin: 24px 0px;"/></div>&nbsp;<br style="box-sizing: border-box;"/>成功的日志&nbsp;<br style="box-sizing: border-box;"/>Nginx访问静态资源出现Permission denied&nbsp;<br style="box-sizing: border-box;"/><div align="center"><img src="https://img-blog.csdn.net/20180417113631411?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Q1OTcxODA3MTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title="" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; cursor: zoom-in; margin: 24px 0px;"/></div><br style="box-sizing: border-box;"/>修改nginx.conf中第一行的user root，解决&nbsp;<br style="box-sizing: border-box;"/>到这里就成功实现了nginx对web应用的动静分离了。&nbsp;<br style="box-sizing: border-box;"/>还可以在&nbsp;<br style="box-sizing: border-box;"/><div align="center"><img src="https://img-blog.csdn.net/20180417113654420?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Q1OTcxODA3MTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title="" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; cursor: zoom-in; margin: 24px 0px;"/></div>&nbsp;<br style="box-sizing: border-box;"/>中添加expires 3d;静态资源缓存3天</p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);"><div align="center"><img src="https://img-blog.csdn.net/20180417113747435?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Q1OTcxODA3MTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title="" style="border: 0px; outline: 0px; box-sizing: border-box; max-width: 100%; cursor: zoom-in; margin: 24px 0px;"/></div>&nbsp;<br style="box-sizing: border-box;"/>这就完成了nginx实现的动静分离，下次学习完负载均衡继续更新</p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);">========================================================&nbsp;<br style="box-sizing: border-box;"/>如果出现本机访问linux服务器失败的话，原因应该都是防火墙的原因&nbsp;<br style="box-sizing: border-box;"/>我用的centos7防火墙默认使用firewall&nbsp;<br style="box-sizing: border-box;"/>firewall-cmd –zone=public –add-port=80/tcp –permanent&nbsp;<br style="box-sizing: border-box;"/>用这个命令开发一个端口之后&nbsp;<br style="box-sizing: border-box;"/>firewall-cmd –reload重启防火墙&nbsp;<br style="box-sizing: border-box;"/>应该就没问题了&nbsp;<br style="box-sizing: border-box;"/>附上一些命令&nbsp;<br style="box-sizing: border-box;"/>firewall-cmd –reload #重启firewall&nbsp;<br style="box-sizing: border-box;"/>systemctl stop firewalld.service #停止firewall&nbsp;<br style="box-sizing: border-box;"/>systemctl disable firewalld.service #禁止firewall开机启动&nbsp;<br style="box-sizing: border-box;"/>firewall-cmd –state #查看默认防火墙状态（关闭后显示notrunning，开启后显示running）</p><p><br/></p>
				<%@ include file="/public/lower.jsp"%>
			</div>
		</div>
		<%@ include file="/public/knowledge_right.jsp"%>
	</article>
	<%@ include file="/public/info.jsp"%>
	<script
		src="${ pageContext.request.contextPath }/knowledge/js/common.js"></script>
	<script
		src="${ pageContext.request.contextPath }/knowledge/js/silder.js"></script>
</body>
</html>